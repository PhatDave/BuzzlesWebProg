

{% extends 'main/base.html' %}
{% load static %}
{% block logo %}
{# TODO: Use form and input fields #}
<img src="{% static 'main/imgs/skyscrapers-logo.png' %}">
{% endblock %}
{% block game %}
{#    <img src="{% static 'main/imgs/exampleSkyscrapers.png' %}" alt="">#}
<div class="row">
	<div class="col-lg-3"></div>
	<div class="col-lg-6">
		{#        TODO: Make the DONE button post form? #}
		<form action="#">
			<div class="row text-center d-flex justify-content-center">
				{% for i in pSizeArray %}
				<input type="text" maxlength="1" class="cell-clue clue-top p-0 text-center" readonly="true" id="cell-clue{{ i }}">
				{% endfor %}
			</div>
			{% for i in pSizeArray %}
			<div class="row text-center d-flex justify-content-center">
				<input type="text" maxlength="1" class="cell-clue clue-left p-0 text-center" readonly="true" id="cell-clue{{ i }}">
				{% for j in pSizeArray %}
				<input type="text" maxlength="1" class="cell p-0 text-center" readonly="true" id="cell{{ i }}{{ j }}">
				{% endfor %}
				<input type="text" maxlength="1" class="cell-clue clue-right p-0 text-center" readonly="true" id="cell-clue{{ i }}">
			</div>
			{% endfor %}
			<div class="row text-center d-flex justify-content-center">
				{% for i in pSizeArray %}
				<input type="text" maxlength="1" class="cell-clue clue-bottom p-0 text-center" readonly="true" id="cell-clue{{ i }}">
				{% endfor %}
			</div>
		</form>
	</div>
	<div class="col-lg-3"></div>
</div>
{#    TODO: Add ID below puzzle #}
{% endblock %}
{% block JQuery %}
    $(".cell").keypress(function(key) {
        if (key.which >= 49 && key.which <=48 + {{ pSize }}) {
            $(this).val(key.which - 48);
            $(this).change();
        }
    })

    $(".cell").change(function() {
        ValidateBoard();
    })

    const task = "{{ taskJ }}".split('/');
    const solution = "{{ solutionJ }}".split('/');
    const boardSize = {{ pSize }};

    for (let i = 0; i < boardSize; i++) {
        $(".clue-top#cell-clue" + i).val(task[i]);
        $(".clue-bottom#cell-clue" + i).val(task[i + boardSize]);
        $(".clue-left#cell-clue" + i).val(task[i + boardSize * 2]);
        $(".clue-right#cell-clue" + i).val(task[i + boardSize * 3]);
    }
{% endblock %}

